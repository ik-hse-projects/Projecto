# Что это за проект?
Это — консольное приложение, которое использует библиотеку классов `Projecto`

Весь интерфейс реализован при помощи `Thuja`, другой библиотеки классов, предназначенной для создания консольных приложений.
В целом, рекомендую сначала обратиться к её README, чтобы чуточку лучше понимать, что здесь вообще происходит.

# TUI?
Text user interface. GUI это как TUI, но графическое.

# Размер терминала и системные требования
Программа разрабатывалась и тестировалась при размере консоли 80x25. Если ваш экран вдруг меньше, то растяните его.
В конце-концов, в мире практически никогда не существовало терминалов **меньше** такого [*](VT100).

[VT100]: https://www.reddit.com/r/commandline/comments/3yb1g7/standard_terminal_size/cyc0aad/

# Opened.cs
Большая часть интерфейса сконцентрирована в классе `Opened`. И сейчас я кратко расскажу как он вообще реализован.

Экземпляр этого класса представляет из себя что-то, что открыто и отображается пользователю: проект, пользователь, подзадача, и т.д.
Сам по себе класс `Opened<T>` практически ничего осмысленного не содержит:
- Экземпляр типа T — объект, который надо отобразить в UI;
- StackContainer для содержимого (`content`);
- какой-то контейнер (`container`), внутри которого всё отображается;
- События/делегаты на закрытие и удаление;
- Есть пара вспомогательных методов, но они не создают содержимое, а лишь помогают в чём-то.

## Откуда берётся содержимое?

У Opened есть целая куча методов-расширений. Это именно методы-расширения, потому что, например, `Opened<IHaveSubtasks>` содержит метод `SetupSubtasks`, а `Opened<User>` — нет. Такой подход позволяет не плодить кучу классов и не заниматься наследованием.

Таким образом получается, что у одного `Opened<T>` есть целая куча методов `Setup…`, которые добавляют в `content` какие-то свои виджеты. Например, есть `Story`, который реализует интерфейсы:
- `ITask` — надо добавить название, статус задачи и дату создания.
- `IHaveSubtasks` — надо добавить список подзадач и кнопку добавления новых
- `IHaveSingleExecutor` — надо добавить кнопку выбора **одного** исполнителя данной задачи.

У всех задач есть что-то общее, поэтому я каждую разбивая на несколько интерфейсов, и рассматриваю их по отдельности. Весь результат аккуратно собирается в `content` и после отображается пользователю.

Все такие методы находятся в классе `OpenedExt`, который в свою очередь разбит на три файла: `Opened.*.cs`.